<!-- #4 use the favorite_for method we created in User -->
<% if favorite = current_user.favorite_for(post) %>
<!-- #5 if there is a favorite for the current user and the post, we display a link to unfavorite the post -->
  <%= link_to [post, favorite], class: 'btn btn-danger', method: :delete do %>
    <i class="glyphicon glyphicon-star-empty"> </i>&nbsp; Unfavorite
  <% end %>
<% else %>
<!-- #6 there isn't a favorite for the current user, we display a link to create a new favorite -->
  <%= link_to [post, Favorite.new], class: 'btn btn-primary', method: :post do %>
    <i class="glyphicon glyphicon-star"> </i>&nbsp; Favorite
  <% end %>
<% end %>
